import { Meta, Canvas, Story } from '@storybook/addon-docs/blocks';
import * as ResponsiveTable from './ResponsiveTable.stories';

<Meta title="Components/ResponsiveTable" />

# ResponsiveTable

The ResponsiveTable component provides a flexible and accessible way to display tabular data with built-in responsive behavior and customizable styling options.

## Basic Usage

<Canvas of={ResponsiveTable.Basic} />

### Code Example

```jsx
import ResponsiveTable from './components/ResponsiveTable';

const data = [
  { name: 'John Doe', email: 'john.doe@example.com', role: 'Administrator' },
  { name: 'Jane Smith', email: 'jane.smith@example.com', role: 'User' },
];

const headers = [
  { key: 'name', label: 'Name' },
  { key: 'email', label: 'Email' },
  { key: 'role', label: 'Role' },
];

<ResponsiveTable
  data={data}
  headers={headers}
  caption="User Table"
/>
```

## With Hover Effect

<Canvas of={ResponsiveTable.WithHover} />

### Code Example

```jsx
<ResponsiveTable
  data={productData}
  headers={productHeaders}
  hover={true}
  caption="Product Catalog"
/>
```

## Striped Rows

<Canvas of={ResponsiveTable.Striped} />

### Code Example

```jsx
<ResponsiveTable
  data={employeeData}
  headers={employeeHeaders}
  striped={true}
  caption="Employee Information"
/>
```

## Combined Features

<Canvas of={ResponsiveTable.CombinedFeatures} />

### Code Example

```jsx
<ResponsiveTable
  data={projectData}
  headers={projectHeaders}
  hover={true}
  striped={true}
  caption="Project Status"
/>
```

## With Custom Styling

<Canvas of={ResponsiveTable.CustomStyling} />

### Code Example

```jsx
<ResponsiveTable
  data={userData}
  headers={userHeaders}
  hover={true}
  className="custom-table"
  caption="User Management"
/>
```

## With React Elements

<Canvas of={ResponsiveTable.WithReactElements} />

### Code Example

```jsx
const dataWithElements = [
  {
    name: 'John Doe',
    status: <span className="text-success">Active</span>,
    actions: <button>Edit</button>
  }
];

<ResponsiveTable
  data={dataWithElements}
  headers={headers}
  caption="Table with React Elements"
/>
```

## Non-Responsive Table

<Canvas of={ResponsiveTable.NonResponsive} />

### Code Example

```jsx
<ResponsiveTable
  data={currencyData}
  headers={currencyHeaders}
  responsive={false}
  caption="Non-responsive table"
/>
```

## Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `data` | `TableData[]` | - | Array of objects representing table rows |
| `headers` | `Header[]` | - | Array defining column headers |
| `caption` | `string` | - | Table caption for accessibility |
| `responsive` | `boolean` | `true` | Whether table should be responsive |
| `hover` | `boolean` | `false` | Enable hover effect on rows |
| `striped` | `boolean` | `false` | Enable striped row styling |
| `className` | `string` | `''` | Additional CSS classes |

### Header Object

```typescript
{
  key: string;        // Key to access data in row objects
  label: string;      // Display label for the column
  sortable?: boolean; // Whether column is sortable (future feature)
}
```

### TableData Object

```typescript
{
  [key: string]: string | number | React.ReactNode;
}
```

## Best Practices

- Always provide meaningful `caption` for screen readers
- Use `hover` and `striped` props for better UX on larger tables
- Keep table data simple and scannable
- Consider table width and content length for responsive behavior
- Use React elements in data for rich content like status indicators or action buttons

## Accessibility Notes

- Component includes proper ARIA attributes and semantic HTML
- Table automatically stacks on mobile with data labels
- Screen readers can navigate table structure properly
- Color contrast meets WCAG AA standards
- Keyboard navigation is supported
- Focus management works correctly
- Table announces caption and structure to assistive technologies